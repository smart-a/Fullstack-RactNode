(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{254:function(e,t){},255:function(e,t){},259:function(e,t){},261:function(e,t){},299:function(e,t){},302:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=302},314:function(e,t){},316:function(e,t){},344:function(e,t){},345:function(e,t){},350:function(e,t){},352:function(e,t){},359:function(e,t){},378:function(e,t){},411:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchUser",(function(){return g})),n.d(r,"handleToken",(function(){return k}));n(199);var c=n(0),a=n(74),i=n.n(a),s=n(21),u=n(33),o=n(196),l=n(11),j=n(12),b=n(14),d=n(13),h=n(25),p=n(8),f=n(56),O=n.n(f),m=n(105),v=n(106),x=n.n(v),y="fetct_user",g=function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/api/current_user");case 2:n=e.sent,t({type:y,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.post("/api/stripe",e);case 2:r=t.sent,n({type:y,payload:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=n(197),w=n.n(N),C=n(1),R=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(C.jsx)(w.a,{name:"Fullstack-ReactNode",description:"$5 for 5 emails",amount:500,token:function(t){return e.props.handleToken(t)},stripeKey:"pk_test_51IK0SiBnDzeEDaykICTZTAX9ik1DNyd2BL7RIYaBFXzwxFzds4vxzgmXhluG7xacRYggowr8tG9RtzuCTRvUrZRO00MsOGAcI6",children:Object(C.jsx)("button",{className:"btn",children:"Add Credits"})})}}]),n}(c.Component),S=Object(s.b)(null,r)(R),T=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"renderContent",value:function(){switch(this.props.auth){case null:return;case!1:return Object(C.jsx)("li",{children:Object(C.jsx)("a",{href:"/auth/google",children:"Login with Google"})});default:return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("li",{children:Object(C.jsx)(S,{})}),Object(C.jsxs)("li",{style:{margin:"0 10px"},children:["Credits: ",this.props.auth.credits]}),Object(C.jsx)("li",{children:Object(C.jsx)("a",{href:"/api/logout",children:"Logout"})})]})}}},{key:"render",value:function(){return Object(C.jsx)("nav",{children:Object(C.jsxs)("div",{className:"nav-wrapper",children:[Object(C.jsx)(h.b,{to:this.props.auth?"/surveys":"/",className:"left brand-logo",children:"Fullstack-ReactNode"}),Object(C.jsx)("ul",{className:"right",children:this.renderContent()})]})})}}]),n}(c.Component);var z=Object(s.b)((function(e){return{auth:e.auth}}))(T),D=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return this.props.auth?Object(C.jsx)(p.a,{to:"/surveys"}):Object(C.jsxs)("div",{style:{textAlign:"center"},children:[Object(C.jsx)("h1",{children:"Fullstack-ReactNode"}),"Collect feedback from your users"]})}}]),n}(c.Component);var F=Object(s.b)((function(e){return{auth:e.auth}}))(D),A=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{children:["Dashboard",Object(C.jsx)("div",{className:"fixed-action-btn",children:Object(C.jsx)(h.b,{className:"btn-floating btn-large red",to:"/surveys/new",children:Object(C.jsx)("i",{className:"large material-icons",children:"add"})})})]})}}]),n}(c.Component),B=n(198),E=n(109),_=n(110),I=function(e){var t=e.input,n=e.label,r=e.meta;return Object(C.jsxs)("div",{style:{marginBottom:"10px",marginTop:"10px"},children:[Object(C.jsxs)("label",{children:[n,": "]}),Object(C.jsx)("input",Object(_.a)(Object(_.a)({},t),{},{placeholder:n})),r.error&&r.touched&&Object(C.jsx)("span",{className:"red-text",children:r.error})]})},U=(n(228),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),G=[{label:"Survey Title",name:"title"},{label:"Subject",name:"subject"},{label:"Email Body",name:"body"},{label:"Emails",name:"recipients"}],L=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(C.jsx)(E.b,{onSubmit:function(e){alert(JSON.stringify(e))},validate:function(e){var t={};t.recipients=function(e){var t=(""===e.split(",").pop()?e.slice(0,e.length-1):e).split(",").map((function(e){return e.trim()})).filter((function(e){return!1===U.test(e)}));if(t.length)return"Some email(s) are invalid: ".concat(t.join(", "))}(e.recipients||"");var n,r=Object(B.a)(G);try{for(r.s();!(n=r.n()).done;){var c=n.value,a=c.label,i=c.name;e[i]||(t[i]="You must provide value for ".concat(a))}}catch(s){r.e(s)}finally{r.f()}return t},render:function(e){var t=e.handleSubmit;return Object(C.jsxs)("form",{onSubmit:t,children:[Object(C.jsx)("div",{children:G.map((function(e,t){var n=e.label,r=e.name;return Object(C.jsx)(E.a,{type:"text",label:n,name:r,component:I},t)}))}),Object(C.jsxs)(h.b,{className:"red btn-flat white-text",to:"/surveys",children:["Cancel",Object(C.jsx)("i",{className:"material-icons right",children:"cancel"})]}),Object(C.jsxs)("button",{type:"submit",className:"teal btn-flat right white-text",children:["Next",Object(C.jsx)("i",{className:"material-icons right",children:"done"})]})]})}})}}]),n}(c.Component),Z=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{children:Object(C.jsx)(L,{})})}}]),n}(c.Component),J=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return Object(C.jsx)(h.a,{children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)(z,{}),Object(C.jsx)(p.b,{exact:!0,path:"/",component:F}),Object(C.jsx)(p.b,{exact:!0,path:"/surveys",component:A}),Object(C.jsx)(p.b,{exact:!0,path:"/surveys/new",component:Z})]})})}}]),n}(c.Component),M=Object(s.b)(null,r)(J);var X=Object(u.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.payload||!1;default:return e}}}),Y=Object(u.d)(X,{},Object(u.a)(o.a));i.a.render(Object(C.jsx)(s.a,{store:Y,children:Object(C.jsx)(M,{})}),document.getElementById("root"))}},[[411,1,2]]]);
//# sourceMappingURL=main.5aeac746.chunk.js.map